<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quốc Khánh 2/9-đăng nhập đăng ký</title>
    <link rel="stylesheet" href="./main.css">
    <script src="./main.js"></script>
</head>

<body class="background-img">
    <div class="nav">
        <div class="fav">
            <a href="./main.html"><img src="./fapicon.png" alt=""></a>


        </div>
        <div class="er">
            <a href="./search.html"> Địa điểm thăm quan</a>
        </div>

        <div class="nav-page">

            <div class="er"><a href="./register.html">Đăng ký</a></div>

        </div>
    </div>
    </div>



    <div id="root">
        <div class="container">
            <div class="h1">Đăng nhập</div>
            <div class="dn2">Để đảm bảo cho các quyền lợi và sự thoải mái của bạn, vui lòng đăng nhập</div>
            <div class="center">
                <form class="sign">
                    <div class="input">Email</div>
                    <input required name="email" type="text" placeholder="abc@gmail.com" width="350px" class="input1">
                    <div class="input">Mật Khẩu</div>
                    <input required name="password" type="text" placeholder="password" class="input1">
                    <br>
                    <button type="submit" class="input2">Submit</button>

                    <div class="camket">
                        khi đăng nhập, tôi đồng ý với
                        <a href="https://colaw.vn/dieu-khoan-va-dieu-kien/" style="color: rgb(83, 146, 249) ; "
                            class="dkvcs">điều kiện và điều khoản</a>
                        và
                        <a href="https://thanhnien.vn/stories/chinh-sach-bao-mat" style="color:  rgb(83, 146, 249);"
                            class="dkvcs">chính sách bảo mật</a>
                            <div class="regis" >nếu bạn chưa có tài khoản, hãy bấm <a href="./register.html" style="color:rgb(83, 146, 249);">vào đây</a></div>
                    </div>
                    
                </form>


            </div>

        </div>
    </div>

    <script>
        let form = document.querySelector("form");
form.addEventListener("submit", (e) => {
  e.preventDefault();

  if (!localStorage.getItem("users")) {
    alert("No user found");
  } else {
    let users = JSON.parse(localStorage.getItem("users"));

    let email = form.email;
    let password = form.password;

    let existingUser = users.find(
      (index) =>
        index.email === email.value.trim() &&
        index.password === password.value.trim()
    );

    if (existingUser) {
      localStorage.setItem("currentUser", JSON.stringify(existingUser));

      location.href = "./main.html";
    } else {
      alert("Email or password is incorrect");
    }
  }
});

    </script>

</body>

</html>